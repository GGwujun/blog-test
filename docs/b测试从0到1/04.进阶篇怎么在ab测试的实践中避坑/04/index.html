<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-test/umi.css" />
    <script>
      window.routerBase = "/blog-test";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>12｜什么情况下不适合做A/B测试？ - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-test/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端开发<ul><li><a href="/blog-test/新时代产品经理进阶之路">新时代产品经理进阶之路</a></li></ul></span><span>软件测试<ul><li><a href="/blog-test/全链路压测实战30讲">全链路压测实战30讲</a></li><li><a href="/blog-test/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-test/接口测试入门课">接口测试入门课</a></li><li><a href="/blog-test/程序员的测试课">程序员的测试课</a></li><li><a href="/blog-test/自动化测试高手课">自动化测试高手课</a></li><li><a href="/blog-test/软件测试52讲">软件测试52讲</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-test/成为ai产品经理">成为ai产品经理</a></li><li><a href="/blog-test/硅谷产品实战36讲">硅谷产品实战36讲</a></li><li><a href="/blog-test/苏杰的产品创新课">苏杰的产品创新课</a></li></ul></span><span>杂谈<ul><li><a aria-current="page" class="active" href="/blog-test/b测试从0到1">b测试从0到1</a></li><li><a href="/blog-test/tob市场品牌实战课">tob市场品牌实战课</a></li><li><a href="/blog-test/从0开始做增长">从0开始做增长</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-test/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端开发<ul><li><a href="/blog-test/新时代产品经理进阶之路">新时代产品经理进阶之路</a></li></ul></li><li>软件测试<ul><li><a href="/blog-test/全链路压测实战30讲">全链路压测实战30讲</a></li><li><a href="/blog-test/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-test/接口测试入门课">接口测试入门课</a></li><li><a href="/blog-test/程序员的测试课">程序员的测试课</a></li><li><a href="/blog-test/自动化测试高手课">自动化测试高手课</a></li><li><a href="/blog-test/软件测试52讲">软件测试52讲</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-test/成为ai产品经理">成为ai产品经理</a></li><li><a href="/blog-test/硅谷产品实战36讲">硅谷产品实战36讲</a></li><li><a href="/blog-test/苏杰的产品创新课">苏杰的产品创新课</a></li></ul></li><li>杂谈<ul><li><a aria-current="page" class="active" href="/blog-test/b测试从0到1">b测试从0到1</a></li><li><a href="/blog-test/tob市场品牌实战课">tob市场品牌实战课</a></li><li><a href="/blog-test/从0开始做增长">从0开始做增长</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-test/b测试从0到1">b测试从0到1</a></li><li><a href="/blog-test/b测试从0到1/01.开篇词">01.开篇词</a><ul><li><a href="/blog-test/b测试从0到1/01.开篇词/01"><span>开篇词｜用好A/B测试，你得这么学</span></a></li></ul></li><li><a href="/blog-test/b测试从0到1/02.统计篇ab测试的前提与理论基础">02.统计篇AB测试的前提与理论基础</a><ul><li><a href="/blog-test/b测试从0到1/02.统计篇ab测试的前提与理论基础/01"><span>01 | 统计基础（上）：系统掌握指标的统计属性</span></a></li><li><a href="/blog-test/b测试从0到1/02.统计篇ab测试的前提与理论基础/02"><span>02｜统计基础（下）：深入理解A/B测试中的假设检验</span></a></li></ul></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程">03.基础篇从0到1带你建立规范的AB测试流程</a><ul><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/01"><span>导读 | 科学、规范的A/B测试流程，是什么样的？</span></a></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/02"><span>03｜确定目标和假设：好的目标和假设是什么？</span></a></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/03"><span>04｜确定指标：指标这么多，到底如何来选择？</span></a></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/04"><span>05｜选取实验单位：什么样的实验单位是合适的？</span></a></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/05"><span>06 | 选择实验样本量：样本量越多越好吗？</span></a></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/06"><span>07｜ 分析测试结果：你得到的测试结果真的靠谱吗？</span></a></li><li><a href="/blog-test/b测试从0到1/03.基础篇从0到1带你建立规范的ab测试流程/07"><span>08 | 案例串讲：从0开始，搭建一个规范的A/B测试框架</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑">04.进阶篇怎么在AB测试的实践中避坑</a><ul><li><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/01"><span>09 ｜测试结果不显著，要怎么改善？</span></a></li><li><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/02"><span>10｜常见误区及解决方法（上）：多重检验问题和学习效应</span></a></li><li><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/03"><span>11 | 常见误区及解决方法（下）：辛普森悖论和实验组/对照组的独立性</span></a></li><li><a aria-current="page" class="active" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04"><span>12｜什么情况下不适合做A/B测试？</span></a></li><li><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/05"><span>13｜融会贯通：A/B测试面试必知必会（上）</span></a></li><li><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/06"><span>14｜举一反三：A/B测试面试必知必会（下）</span></a></li><li><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/07"><span>15｜用R/Shiny，教你制作一个样本量计算器</span></a></li></ul></li><li><a href="/blog-test/b测试从0到1/05.结束语">05.结束语</a><ul><li><a href="/blog-test/b测试从0到1/05.结束语/01"><span>结束语｜实践是检验真理的唯一标准</span></a></li><li><a href="/blog-test/b测试从0到1/05.结束语/02"><span>结课测试题｜这些A/B测试的知识你都掌握了吗？</span></a></li><li><a href="/blog-test/b测试从0到1/05.结束语/03"><span>加餐｜试验意识改变决策模式，推动业务增长</span></a></li></ul></li><li><a href="/blog-test/b测试从0到1/summary">b测试从0到1</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="A/B测试在什么情况下不适用？" data-depth="2"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#ab测试在什么情况下不适用"><span>A/B测试在什么情况下不适用？</span></a></li><li title="当没有办法控制想要测试的变量时" data-depth="3"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当没有办法控制想要测试的变量时"><span>当没有办法控制想要测试的变量时</span></a></li><li title="当有重大事件发布时" data-depth="3"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当有重大事件发布时"><span>当有重大事件发布时</span></a></li><li title="当用户数量很少时" data-depth="3"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当用户数量很少时"><span>当用户数量很少时</span></a></li><li title="当A/B测试不适用时有哪些替代方法？" data-depth="2"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当ab测试不适用时有哪些替代方法"><span>当A/B测试不适用时有哪些替代方法？</span></a></li><li title="**倾向评分匹配（**Propensity Score Matching）" data-depth="3"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#倾向评分匹配propensity-score-matching"><span>**倾向评分匹配（**Propensity Score Matching）</span></a></li><li title="用户研究" data-depth="3"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#用户研究"><span>用户研究</span></a></li><li title="小结" data-depth="2"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#小结"><span>小结</span></a></li><li title="思考题" data-depth="2"><a href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="12什么情况下不适合做ab测试"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#12什么情况下不适合做ab测试"><span class="icon icon-link"></span></a>12｜什么情况下不适合做A/B测试？</h1><p>你好，我是博伟。</p><p>我们知道，A/B测试是帮助公司实现持续增长的利器。然而，没有任何一种方法能解决所有的问题，让我们一劳永逸。A/B测试也是如此。</p><p>A/B测试可以解决大部分因果推断的问题。但在有些因果推断的业务场景下，A/B测试就不适用了。这个时候我们就需要另辟蹊径，换一种思路和方法来解决问题。</p><p>所以今天这节课，我们就来学习A/B测试在什么情况下不适用，如果不适用的话，有哪些相应的解决方法。</p><h2 id="ab测试在什么情况下不适用"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#ab测试在什么情况下不适用"><span class="icon icon-link"></span></a><strong>A/B测试在什么情况下不适用？</strong></h2><p>在实践中主要有3种情况下A/B测试不适用：</p><h3 id="当没有办法控制想要测试的变量时"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当没有办法控制想要测试的变量时"><span class="icon icon-link"></span></a><strong>当<strong><strong>没有办法控制想要测试的变量</strong></strong>时</strong></h3><p>A/B测试是控制变量实验，它的一个前提就是我们必须可以控制想要测试的变量的变化，这样才能人为地给实验组和对照组的实验单位不同的用户体验。但是在有些情况下，我们就没有办法控制变量的变化。</p><p>你可能会有疑问，有这样的变量吗？</p><p>当然是有的，主要是用户个人的选择。我们能够控制的变量其实都是在产品和业务端，但是对于用户个人的选择，我们其实是没有办法、也不可能去控制的。毕竟用户都是有自由意志的，所以我们所有的营销方法都是努力去说服用户，但最终选择权还是在用户手里。</p><p>比如我们想要了解用户从QQ音乐换到网易云音乐后使用情况的变化，那更换音乐App就是我们想要测试的变量。需要注意的是，我们无法帮助用户决定是否要更换音乐App的行为，因此我们也没有办法做到真正的随机分组。</p><p>你可能会说，我们可以通过营销，给用户优惠甚至付费让用户去更换音乐App，这在实践上是可行的，但是在实验中就会产生新的偏差。因为对于外界激励，不同的用户会有不同的反应，我们可能只研究了对外界激励有反应的用户，而忽略了对外界激励没有反应的用户。这样得到的实验结果是不准确的。</p><h3 id="当有重大事件发布时"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当有重大事件发布时"><span class="icon icon-link"></span></a><strong>当有重大事件发布时</strong></h3><p>重大事件的发布，主要指的是新产品/业务的发布，或者涉及产品形象的一些改变，比如商标/代言人的改变，我们往往是不能进行A/B测试的。因为凡是重大事件的发布会，都想要让尽可能多的用户知道，并且也花了大量营销的钱。在当下这个信息流通极度发达的互联网时代，不存在我公开发布了一个新品，只有一小部分用户知道这种情况，即使是中小企业也是如此。</p><p>比如苹果公司每年的新品发布会，并不会、也不可能事先去做大规模的用户A/B测试来看看新品的效果如何，然后再决定是否要发布。</p><p>再比如，一个公司如果想要改变自己的商标，就不能事先把用户进行分组，让实验组的用户接触新商标，对照组的用户接触旧商标。因为商标是一个公司或者产品的形象，你想想看，如果把用户进行分组，就会出现同一个产品同时有多个商标在市场流通的情况，那就会对用户造成困惑，而且也不利于产品形象的打造。</p><h3 id="当用户数量很少时"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当用户数量很少时"><span class="icon icon-link"></span></a><strong>当用户数量很少时</strong></h3><p>这个其实很好理解，如果我们没有一定的流量能让我们在短时间内达到所需要的样本量的情况下，那么A/B测试也就不再适用了，不过这种情况其实在大数据的互联网行业中比较少见，这里我们就不展开讲解了。</p><h2 id="当ab测试不适用时有哪些替代方法"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#当ab测试不适用时有哪些替代方法"><span class="icon icon-link"></span></a><strong>当A/B测试不适用时有哪些替代方法？</strong></h2><p>当A/B测试不适用时，我们通常会选用非实验的因果推断方法和用户研究两类方法来替代，让你在想做因果推断却又不能进行A/B测试时，有新的思路和方法。</p><h3 id="倾向评分匹配propensity-score-matching"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#倾向评分匹配propensity-score-matching"><span class="icon icon-link"></span></a>**倾向评分匹配（**<strong>Propensity Score Matching）</strong></h3><p>非实验的因果推断方法，又叫<a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Observational_study">观察性研究<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，这其中最常用的就是倾向评分匹配（Propensity Score Matching），简称PSM。我在第9节课已经介绍了PSM，它的本质就是<strong>在历史数据中，通过模型的方法，人为地（而不是像实验那样随机地）构建出相似的实验组和对照组，最后再<strong><strong>对两组</strong></strong>进行比较。</strong></p><p>这里我会通过一个音乐App的案例，来详细讲解下用PSM替代A/B测试时，是怎么在因果推断中应用的。</p><p>这款音乐App是付费订阅模式，有两种订阅方式：</p><ul><li>个人订阅每月10块钱，只能供一个人使用。</li><li>家庭订阅每月20块钱，最多可以5人同时使用。</li></ul><p>此外，不管是个人订阅，还是家庭订阅，只要是新用户，都会有3个月的免费试用期。</p><p>数据分析师通过大量的数据分析发现，家庭订阅比个人订阅用户的长期留存率（即续订率）更高。仔细想想其实也很好理解，家庭订阅可以和他人分享，所以每个订阅中的用户会更多一些，一般不止一个。而订阅中的用户越多，就越不容易取消这个订阅，所以长期留存率会越高。</p><p>于是这位数据分析师就根据这个分析发现，向营销经理推荐：可以向个人订阅的用户发广告，宣传家庭订阅的好处，鼓励他们升级到家庭订阅。</p><p>不过营销经理却提出了不同的意见：选择家庭订阅的用户和选择个人订阅的用户，在本质上就是不同的。比如他们的用户画像、使用行为等，都存在很大差异。也就是说，并不是升级本身导致了用户留存的提高，而是由于他们本来就是不同的用户，所以留存才不同。</p><p>为了验证营销经理的想法，数据分析师详细地分析了两种订阅方式的用户画像和使用行为，发现果然如营销经理所说，从个人订阅升级到家庭订阅的用户和没有升级的用户差别很大，比如升级的用户平均年龄更大，使用的时间更长等等。<br/><img src="/blog-test/static/httpsstatic001geekbangorgresourceimage15e01512f3c5fee200148e2673924b534be0.882c8235.png" alt=""/></p><p>看到这里，你大概已经知道了，个人订阅升级到家庭订阅是否会提升用户留存率，其实是一个因果推断的问题。</p><p>数据分析师的观点是“从个人订阅升级到家庭订阅”这个原因，可以导致“用户留存提升”这个结果。</p><p>但是营销经理的意见是影响用户留存的因素有很多，在用户升级这个情境下并不能排除其他因素，因为升级是用户自己的选择，那么很有可能升级和不升级的用户本来就是两类不同的人，所以在其他因素不相似的情况下就不能只比较升级这一个因素。</p><p>两者的观点看起来都很合理，那我们该通过什么方法来验证谁对谁错呢？</p><p>验证因果推断的最好方法当然是做A/B测试了！但是在这个业务情景下，由于是否升级这个变化因素是用户的自主选择，我们并不能控制，所以就并不能做随机分配的实验。那么这个时候，非实验的因果推断方法PSM就可以派上用场啦。具体方法如下。</p><p>首先，我们从历史数据中选取在同一个时间范围内开始个人订阅的试用期用户。</p><p>在三个月试用期结束后还在付费的用户中，有的依旧是个人订阅，有的则升级成了家庭订阅。而在这自然形成的两类用户中，我们通过PSM的方法对用户的画像和使用行为等因素进行匹配，在没有升级的用户中选出和升级用户相似的用户，然后在这些相似用户中比较长期的用户留存：<br/><img src="/blog-test/static/httpsstatic001geekbangorgresourceimage03a1039bf75eb85b3ac53d0bb23b4a4c8ba1.8d39fca5.png" alt=""/><br/>接着，进行完PSM后呢，我们再来比较下个人订阅和家庭订阅各自的用户画像和使用行为。<br/><img src="/blog-test/static/httpsstatic001geekbangorgresourceimage0fcc0f022b49bdf629d2c6c97eda8f02fdcc.e7a024d9.png" alt=""/><br/>从数据中我们可以发现，经过PSM处理后的没有升级的用户和升级的用户，在各个特征上都已经非常相似了，那么这个时候我们就可以进行比较了。当我们比较时，因为已经控制了其他特征相似，两组只有“是否升级”这一项不同，所以如果用户留存有变化，那就说明是升级这个变化因素造成的。</p><p>最后，我们来看一下最终的比较结果。下图中的纵轴是用户留存率，横轴是从试用期开始时的月份，因为试用期是3个月，且试用期内不存在续费问题，所以留存率就是100%， 那我们就从第4个月开始算用户留存率。<br/><img src="/blog-test/static/httpsstatic001geekbangorgresourceimage0fc70f72d69608847c0d312e900e8af22ac7.3433a4db.png" alt=""/><br/>从图中可以看到，如果我们不做PSM的话，就像最开始数据分析师发现的那样，个人订阅升级到家庭订阅能够使一年的留存率提升28%， 但这是在没有剔除其他因素的情况下，所以28%这个结果就不够准确（营销经理的观点）。</p><p>那么经过PSM处理后，我们得到了和升级用户相似的非升级用户，结果发现升级确实能提升用户留存，不过只能提高13%，那就说明只有13%的用户留存率的提升可以归因于用户升级。</p><p>这里我们通过PSM，在剔除了其他因素的影响之后，模拟出了一个控制变量实验，从而确定了个人订阅升级到家庭订阅对用户留存所带来的准确影响。</p><h3 id="用户研究"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#用户研究"><span class="icon icon-link"></span></a><strong>用户研究</strong></h3><p>用户研究适用于A/B测试无法进行时，比如新产品/业务发布前的测评，我们就可以通过直接或间接的方式，和用户交流沟通来获取信息，从而判断相应的变化会对用户产生什么影响。</p><p>用户研究的方法有很多种，我们今天主要来聊一聊常用的几种：深度用户体验研究（Deep User Experience Research），焦点小组（Focus Group）和调查问卷（Survey）。</p><p>深度用户体验研究，指的是通过选取几个潜在用户进行深度的信息提取，比如通过用户眼球的运动来追踪用户的选择过程的<a target="_blank" rel="noopener noreferrer" href="https://vwo.com/blog/eye-tracking-website-optimization/">眼动研究<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，或者用户自己记录的<a target="_blank" rel="noopener noreferrer" href="http://www.woshipm.com/user-research/3073582.html">日记研究<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><ul><li>眼动研究能让我们了解到用户的正常使用流程是什么样的，在哪些阶段会有卡顿或者退出。</li><li>日记研究通过用户自己记录的使用情况和意向，来了解他们的反馈。</li></ul><p><a target="_blank" rel="noopener noreferrer" href="https://baike.baidu.com/item/%E7%84%A6%E7%82%B9%E5%B0%8F%E7%BB%84%E8%AE%BF%E8%B0%88%E6%B3%95/1054398">焦点小组<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>是有引导的小组讨论，由主持人把潜在的用户组织起来，引导大家讨论不同的话题，然后根据大家在讨论中发表的不同意见，综合得出反馈意见。从小组讨论这个形式就可以看出，每次焦点小组能够组织的用户一般要比深度用户体验研究的用户数量要多，但是比调查问卷的用户数量要少。</p><p><a target="_blank" rel="noopener noreferrer" href="https://baike.baidu.com/item/%E8%B0%83%E6%9F%A5%E9%97%AE%E5%8D%B7/10015839">调查问卷<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>就是通过事先设计好想要了解的问题，可以是选择题或者开放式的问题，比如对新品/新业务的想法和感受。然后把这些问题做成问卷发放给潜在的用户。交流方式可以是面对面、线上或者是电话等等，然后根据不同用户的回答结果，统计出大致的反馈结果。<br/><img src="/blog-test/static/httpsstatic001geekbangorgresourceimagee147e1070c0834b76879c0578ba42c4b8247.d19070c9.png" alt=""/><br/>从图中可以看出，从深度的用户体验研究，到焦点小组，再到调查问卷，虽然参与的用户越来越多，但是团队从每个用户身上获得的信息深度会越来越浅，所以选择何种方法也取决于你能招募到多少潜在用户，有没有相应的条件与设备（比如眼动研究需要眼动仪来完成），还有想要得到的信息深度。</p><h2 id="小结"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#小结"><span class="icon icon-link"></span></a><strong>小结</strong></h2><p>今天这节课我们讲解了A/B测试的局限性，通过案例介绍了非实验的因果推断方法-倾向评分匹配（PSM），也带你简单了解了用户研究的相关方法。实践中出现较多的还是我们没有办法控制的用户选择这种变量，主要会用到PSM这种非实验的因果推断方法。那么用户研究在实践中不仅可以用于新产品/业务的测评，还可以用于产生新指标的想法（比如我在第3节课中讲到的定性+定量相结合的方法来确定指标）。</p><p>那么从开头到今天这节课呢，我们的专栏讲解了A/B测试的统计原理，标准的流程以及实践中各种常见问题及解决方法。说到应用这些经验和方法论呢，工作场景自然是最佳场所，不过还有另一个实践的好机会，那就是在面试中。</p><p>那么在接下来的两节课，我就会带你去过一遍面试中常考的A/B测试问题。同时，我也建议你先梳理下自己面试时曾被问到的那些问题，以及自己当时自己是怎么回答的。这样，我们在学习后面两讲内容的时候，也会更有针对性。</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-test/b测试从0到1/04.进阶篇怎么在ab测试的实践中避坑/04#思考题"><span class="icon icon-link"></span></a><strong>思考题</strong></h2><p>结合自己的经验，想一想你有没有见到过或经历过想进行因果推断相关的分析但是A/B测试却不适用的情况？详细说一说原因和结果。</p><p>欢迎你把对本节课的思考和想法分享在留言区，我会在第一时间给你反馈。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/b测试从0到1/04.进阶篇怎么在AB测试的实践中避坑/04.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 22:08:02</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-test/umi.js"></script>
  </body>
</html>
